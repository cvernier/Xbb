void mass_resolution()
{
//=========Macro generated from canvas: c1/c1
//=========  (Wed Jan 27 16:05:26 2016) by ROOT version6.02/05
   TCanvas *c1 = new TCanvas("c1", "c1",0,0,1280,768);
   gStyle->SetOptStat(0);
   c1->Range(70,-658.7625,170,5928.863);
   c1->SetFillColor(0);
   c1->SetBorderMode(0);
   c1->SetBorderSize(2);
   c1->SetGridx();
   c1->SetGridy();
   c1->SetFrameBorderMode(0);
   c1->SetFrameBorderMode(0);
   
   TH1F *Hmass1 = new TH1F("Hmass1","Reconstructed Higgs mass distribution",40,80,160);
   Hmass1->SetBinContent(0,1177);
   Hmass1->SetBinContent(1,359);
   Hmass1->SetBinContent(2,445);
   Hmass1->SetBinContent(3,506);
   Hmass1->SetBinContent(4,637);
   Hmass1->SetBinContent(5,743);
   Hmass1->SetBinContent(6,946);
   Hmass1->SetBinContent(7,1148);
   Hmass1->SetBinContent(8,1342);
   Hmass1->SetBinContent(9,1496);
   Hmass1->SetBinContent(10,1727);
   Hmass1->SetBinContent(11,2016);
   Hmass1->SetBinContent(12,2313);
   Hmass1->SetBinContent(13,2597);
   Hmass1->SetBinContent(14,2868);
   Hmass1->SetBinContent(15,3245);
   Hmass1->SetBinContent(16,3499);
   Hmass1->SetBinContent(17,3868);
   Hmass1->SetBinContent(18,3979);
   Hmass1->SetBinContent(19,4281);
   Hmass1->SetBinContent(20,4241);
   Hmass1->SetBinContent(21,4405);
   Hmass1->SetBinContent(22,4310);
   Hmass1->SetBinContent(23,4029);
   Hmass1->SetBinContent(24,3798);
   Hmass1->SetBinContent(25,3536);
   Hmass1->SetBinContent(26,3101);
   Hmass1->SetBinContent(27,2753);
   Hmass1->SetBinContent(28,2296);
   Hmass1->SetBinContent(29,1927);
   Hmass1->SetBinContent(30,1483);
   Hmass1->SetBinContent(31,1146);
   Hmass1->SetBinContent(32,930);
   Hmass1->SetBinContent(33,705);
   Hmass1->SetBinContent(34,530);
   Hmass1->SetBinContent(35,406);
   Hmass1->SetBinContent(36,295);
   Hmass1->SetBinContent(37,274);
   Hmass1->SetBinContent(38,164);
   Hmass1->SetBinContent(39,144);
   Hmass1->SetBinContent(40,131);
   Hmass1->SetBinContent(41,1359);
   Hmass1->SetMaximum(5270.1);
   Hmass1->SetEntries(81155);
   Hmass1->SetStats(0);
   
   TF1 *fit11 = new TF1("fit1","[0]*exp(-0.5*((x-[1])/[2])^2)*abs(x<=[1])+[0]*exp(-0.5*((x-[1])/[3])^2)*abs(x>[1])+[4]",87.90275,189.3139);
   fit11->SetFillColor(19);
   fit11->SetFillStyle(0);
   fit11->SetLineWidth(2);
   fit11->SetChisquare(50.39982);
   fit11->SetNDF(31);
   fit11->GetXaxis()->SetLabelFont(42);
   fit11->GetXaxis()->SetLabelSize(0.035);
   fit11->GetXaxis()->SetTitleSize(0.035);
   fit11->GetXaxis()->SetTitleFont(42);
   fit11->GetYaxis()->SetLabelFont(42);
   fit11->GetYaxis()->SetLabelSize(0.035);
   fit11->GetYaxis()->SetTitleSize(0.035);
   fit11->GetYaxis()->SetTitleFont(42);
   fit11->SetParameter(0,4175.397);
   fit11->SetParError(0,21.02404);
   fit11->SetParLimits(0,0,0);
   fit11->SetParameter(1,121.5524);
   fit11->SetParError(1,0.1756129);
   fit11->SetParLimits(1,0,0);
   fit11->SetParameter(2,16.73061);
   fit11->SetParError(2,0.150407);
   fit11->SetParLimits(2,0,0);
   fit11->SetParameter(3,11.84795);
   fit11->SetParError(3,0.1410741);
   fit11->SetParLimits(3,0,0);
   fit11->SetParameter(4,106.7088);
   fit11->SetParError(4,8.450363);
   fit11->SetParLimits(4,0,0);
   Hmass1->GetListOfFunctions()->Add(fit11);
   Hmass1->SetLineWidth(2);
   Hmass1->GetXaxis()->SetTitle("m(bb) [GeV]");
   Hmass1->GetXaxis()->SetLabelFont(42);
   Hmass1->GetXaxis()->SetLabelSize(0.035);
   Hmass1->GetXaxis()->SetTitleSize(0.035);
   Hmass1->GetXaxis()->SetTitleFont(42);
   Hmass1->GetYaxis()->SetTitle("Events");
   Hmass1->GetYaxis()->SetLabelFont(42);
   Hmass1->GetYaxis()->SetLabelSize(0.035);
   Hmass1->GetYaxis()->SetTitleSize(0.035);
   Hmass1->GetYaxis()->SetTitleFont(42);
   Hmass1->GetZaxis()->SetLabelFont(42);
   Hmass1->GetZaxis()->SetLabelSize(0.035);
   Hmass1->GetZaxis()->SetTitleSize(0.035);
   Hmass1->GetZaxis()->SetTitleFont(42);
   Hmass1->Draw("");
   
   TH1F *HmassReg2 = new TH1F("HmassReg2","H.mass  {Sum$(Jet_mcMatchId[hJCidx]==25)==2}",40,80,160);
   HmassReg2->SetBinContent(0,704);
   HmassReg2->SetBinContent(1,211);
   HmassReg2->SetBinContent(2,287);
   HmassReg2->SetBinContent(3,370);
   HmassReg2->SetBinContent(4,414);
   HmassReg2->SetBinContent(5,519);
   HmassReg2->SetBinContent(6,666);
   HmassReg2->SetBinContent(7,784);
   HmassReg2->SetBinContent(8,907);
   HmassReg2->SetBinContent(9,1134);
   HmassReg2->SetBinContent(10,1331);
   HmassReg2->SetBinContent(11,1480);
   HmassReg2->SetBinContent(12,1819);
   HmassReg2->SetBinContent(13,2044);
   HmassReg2->SetBinContent(14,2417);
   HmassReg2->SetBinContent(15,2619);
   HmassReg2->SetBinContent(16,3154);
   HmassReg2->SetBinContent(17,3599);
   HmassReg2->SetBinContent(18,3789);
   HmassReg2->SetBinContent(19,3987);
   HmassReg2->SetBinContent(20,4336);
   HmassReg2->SetBinContent(21,4457);
   HmassReg2->SetBinContent(22,4405);
   HmassReg2->SetBinContent(23,4435);
   HmassReg2->SetBinContent(24,4291);
   HmassReg2->SetBinContent(25,4000);
   HmassReg2->SetBinContent(26,3588);
   HmassReg2->SetBinContent(27,3271);
   HmassReg2->SetBinContent(28,2900);
   HmassReg2->SetBinContent(29,2394);
   HmassReg2->SetBinContent(30,1964);
   HmassReg2->SetBinContent(31,1665);
   HmassReg2->SetBinContent(32,1277);
   HmassReg2->SetBinContent(33,1029);
   HmassReg2->SetBinContent(34,823);
   HmassReg2->SetBinContent(35,634);
   HmassReg2->SetBinContent(36,540);
   HmassReg2->SetBinContent(37,378);
   HmassReg2->SetBinContent(38,310);
   HmassReg2->SetBinContent(39,272);
   HmassReg2->SetBinContent(40,228);
   HmassReg2->SetBinContent(41,1723);
   HmassReg2->SetEntries(81155);
   HmassReg2->SetStats(0);
   
   TF1 *fit22 = new TF1("fit2","[0]*exp(-0.5*((x-[1])/[2])^2)*abs(x<=[1])+[0]*exp(-0.5*((x-[1])/[3])^2)*abs(x>[1])+[4]",93.35071,184.4125);
   fit22->SetFillColor(19);
   fit22->SetFillStyle(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#ff0000");
   fit22->SetLineColor(ci);
   fit22->SetLineWidth(2);
   fit22->SetChisquare(54.7806);
   fit22->SetNDF(28);
   fit22->GetXaxis()->SetLabelFont(42);
   fit22->GetXaxis()->SetLabelSize(0.035);
   fit22->GetXaxis()->SetTitleSize(0.035);
   fit22->GetXaxis()->SetTitleFont(42);
   fit22->GetYaxis()->SetLabelFont(42);
   fit22->GetYaxis()->SetLabelSize(0.035);
   fit22->GetYaxis()->SetTitleSize(0.035);
   fit22->GetYaxis()->SetTitleFont(42);
   fit22->SetParameter(0,4226.705);
   fit22->SetParError(0,22.85416);
   fit22->SetParLimits(0,0,0);
   fit22->SetParameter(1,123.6215);
   fit22->SetParError(1,0.1782374);
   fit22->SetParLimits(1,0,0);
   fit22->SetParameter(2,14.91983);
   fit22->SetParError(2,0.1522386);
   fit22->SetParLimits(2,0,0);
   fit22->SetParameter(3,11.85393);
   fit22->SetParError(3,0.1564539);
   fit22->SetParLimits(3,0,0);
   fit22->SetParameter(4,194.803);
   fit22->SetParError(4,12.42362);
   fit22->SetParLimits(4,0,0);
   HmassReg2->GetListOfFunctions()->Add(fit22);

   ci = TColor::GetColor("#ff0000");
   HmassReg2->SetLineColor(ci);
   HmassReg2->SetLineWidth(2);
   HmassReg2->GetXaxis()->SetLabelFont(42);
   HmassReg2->GetXaxis()->SetLabelSize(0.035);
   HmassReg2->GetXaxis()->SetTitleSize(0.035);
   HmassReg2->GetXaxis()->SetTitleFont(42);
   HmassReg2->GetYaxis()->SetLabelFont(42);
   HmassReg2->GetYaxis()->SetLabelSize(0.035);
   HmassReg2->GetYaxis()->SetTitleSize(0.035);
   HmassReg2->GetYaxis()->SetTitleFont(42);
   HmassReg2->GetZaxis()->SetLabelFont(42);
   HmassReg2->GetZaxis()->SetLabelSize(0.035);
   HmassReg2->GetZaxis()->SetTitleSize(0.035);
   HmassReg2->GetZaxis()->SetTitleFont(42);
   HmassReg2->Draw("same");
   
   TH1F *HmassStdReg3 = new TH1F("HmassStdReg3","HCSV_reg_mass  {Sum$(Jet_mcMatchId[hJCidx]==25)==2}",40,80,160);
   HmassStdReg3->SetBinContent(0,621);
   HmassStdReg3->SetBinContent(1,190);
   HmassStdReg3->SetBinContent(2,237);
   HmassStdReg3->SetBinContent(3,326);
   HmassStdReg3->SetBinContent(4,398);
   HmassStdReg3->SetBinContent(5,510);
   HmassStdReg3->SetBinContent(6,605);
   HmassStdReg3->SetBinContent(7,722);
   HmassStdReg3->SetBinContent(8,944);
   HmassStdReg3->SetBinContent(9,1076);
   HmassStdReg3->SetBinContent(10,1267);
   HmassStdReg3->SetBinContent(11,1558);
   HmassStdReg3->SetBinContent(12,1794);
   HmassStdReg3->SetBinContent(13,2055);
   HmassStdReg3->SetBinContent(14,2326);
   HmassStdReg3->SetBinContent(15,2773);
   HmassStdReg3->SetBinContent(16,3253);
   HmassStdReg3->SetBinContent(17,3544);
   HmassStdReg3->SetBinContent(18,3911);
   HmassStdReg3->SetBinContent(19,4258);
   HmassStdReg3->SetBinContent(20,4562);
   HmassStdReg3->SetBinContent(21,4729);
   HmassStdReg3->SetBinContent(22,4791);
   HmassStdReg3->SetBinContent(23,4782);
   HmassStdReg3->SetBinContent(24,4503);
   HmassStdReg3->SetBinContent(25,4171);
   HmassStdReg3->SetBinContent(26,3762);
   HmassStdReg3->SetBinContent(27,3349);
   HmassStdReg3->SetBinContent(28,2748);
   HmassStdReg3->SetBinContent(29,2287);
   HmassStdReg3->SetBinContent(30,1766);
   HmassStdReg3->SetBinContent(31,1425);
   HmassStdReg3->SetBinContent(32,1075);
   HmassStdReg3->SetBinContent(33,818);
   HmassStdReg3->SetBinContent(34,625);
   HmassStdReg3->SetBinContent(35,544);
   HmassStdReg3->SetBinContent(36,434);
   HmassStdReg3->SetBinContent(37,278);
   HmassStdReg3->SetBinContent(38,210);
   HmassStdReg3->SetBinContent(39,195);
   HmassStdReg3->SetBinContent(40,153);
   HmassStdReg3->SetBinContent(41,1580);
   HmassStdReg3->SetEntries(81155);
   HmassStdReg3->SetStats(0);
   
   TF1 *fit43 = new TF1("fit4","[0]*exp(-0.5*((x-[1])/[2])^2)*abs(x<=[1])+[0]*exp(-0.5*((x-[1])/[3])^2)*abs(x>[1])+[4]",94.01712,183.8781);
   fit43->SetFillColor(19);
   fit43->SetFillStyle(0);

   ci = TColor::GetColor("#00ff00");
   fit43->SetLineColor(ci);
   fit43->SetLineWidth(2);
   fit43->SetChisquare(101.8507);
   fit43->SetNDF(28);
   fit43->GetXaxis()->SetLabelFont(42);
   fit43->GetXaxis()->SetLabelSize(0.035);
   fit43->GetXaxis()->SetTitleSize(0.035);
   fit43->GetXaxis()->SetTitleFont(42);
   fit43->GetYaxis()->SetLabelFont(42);
   fit43->GetYaxis()->SetLabelSize(0.035);
   fit43->GetYaxis()->SetTitleSize(0.035);
   fit43->GetYaxis()->SetTitleFont(42);
   fit43->SetParameter(0,4522.688);
   fit43->SetParError(0,23.34755);
   fit43->SetParLimits(0,0,0);
   fit43->SetParameter(1,123.8591);
   fit43->SetParError(1,0.1575675);
   fit43->SetParLimits(1,0,0);
   fit43->SetParameter(2,14.73608);
   fit43->SetParError(2,0.1368792);
   fit43->SetParLimits(2,0,0);
   fit43->SetParameter(3,10.78729);
   fit43->SetParError(3,0.1282031);
   fit43->SetParLimits(3,0,0);
   fit43->SetParameter(4,161.4918);
   fit43->SetParError(4,8.936956);
   fit43->SetParLimits(4,0,0);
   HmassStdReg3->GetListOfFunctions()->Add(fit43);

   ci = TColor::GetColor("#00ff00");
   HmassStdReg3->SetLineColor(ci);
   HmassStdReg3->SetLineWidth(2);
   HmassStdReg3->GetXaxis()->SetLabelFont(42);
   HmassStdReg3->GetXaxis()->SetLabelSize(0.035);
   HmassStdReg3->GetXaxis()->SetTitleSize(0.035);
   HmassStdReg3->GetXaxis()->SetTitleFont(42);
   HmassStdReg3->GetYaxis()->SetLabelFont(42);
   HmassStdReg3->GetYaxis()->SetLabelSize(0.035);
   HmassStdReg3->GetYaxis()->SetTitleSize(0.035);
   HmassStdReg3->GetYaxis()->SetTitleFont(42);
   HmassStdReg3->GetZaxis()->SetLabelFont(42);
   HmassStdReg3->GetZaxis()->SetLabelSize(0.035);
   HmassStdReg3->GetZaxis()->SetTitleSize(0.035);
   HmassStdReg3->GetZaxis()->SetTitleFont(42);
   HmassStdReg3->Draw("same");
   
   TLegend *leg = new TLegend(0.1,0.7,0.35,0.9,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(2);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("Hmass","baseline","l");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(2);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   entry=leg->AddEntry("HmassReg","regressed","l");

   ci = TColor::GetColor("#ff0000");
   entry->SetLineColor(ci);
   entry->SetLineStyle(1);
   entry->SetLineWidth(2);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   entry=leg->AddEntry("HmassStdReg","std. regression","l");

   ci = TColor::GetColor("#00ff00");
   entry->SetLineColor(ci);
   entry->SetLineStyle(1);
   entry->SetLineWidth(2);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.2125705,0.935,0.7874295,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetLineWidth(2);
   pt->SetTextFont(42);
   TText *AText = pt->AddText("Reconstructed Higgs mass distribution");
   pt->Draw();
   c1->Modified();
   c1->cd();
   c1->SetSelected(c1);
}
